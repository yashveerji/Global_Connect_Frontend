{"ast":null,"code":"// ✅ src/App.js\nimport React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Routes,Route}from\"react-router-dom\";import{loginUserSuccess}from\"./store/userSlice\";// Components\nimport Header from\"./components/Header\";import Footer from\"./components/Footer\";import Home from\"./components/Home\";import About from\"./components/About\";import Services from\"./components/Services\";import Contact from\"./components/Contact\";import Login from\"./components/Login\";import Signup from\"./components/Signup\";import UserProfile from\"./components/UserProfile\";import Connections from\"./components/Connections\";import Feed from\"./components/Feed\";import JobBoard from\"./components/JobBoard\";import ChatBox from\"./components/ChatBox\";import Messages from\"./components/Messages\";import ProtectedRoute from\"./components/ProtectedRoute\";// Socket connection\nimport socket from\"./utils/socket\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const dispatch=useDispatch();const{user}=useSelector(state=>state.user);// 🔐 Restore login from localStorage\nuseEffect(()=>{const token=localStorage.getItem(\"token\");const user=localStorage.getItem(\"user\");try{if(token&&user){dispatch(loginUserSuccess({token,user:JSON.parse(user)}));}}catch(err){console.error(\"❌ Error restoring user from localStorage\",err);}},[dispatch]);// 🔌 Join socket room after login\nuseEffect(()=>{if(user!==null&&user!==void 0&&user._id){socket.emit(\"join\",user._id);console.log(\"✅ Joined socket room:\",user._id);}},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/services\",element:/*#__PURE__*/_jsx(Services,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(UserProfile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/connections\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Connections,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/feed\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Feed,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(JobBoard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ChatBox,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/messages\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Messages,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Home,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Routes","Route","loginUserSuccess","Header","Footer","Home","About","Services","Contact","Login","Signup","UserProfile","Connections","Feed","JobBoard","ChatBox","Messages","ProtectedRoute","socket","jsx","_jsx","jsxs","_jsxs","App","dispatch","user","state","token","localStorage","getItem","JSON","parse","err","console","error","_id","emit","log","className","children","path","element"],"sources":["C:/Users/yashv/OneDrive/Desktop/Internshipmini2/Global_Connect/Global_Connect/frontend/src/App.js"],"sourcesContent":["// ✅ src/App.js\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport { loginUserSuccess } from \"./store/userSlice\";\r\n\r\n// Components\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport Home from \"./components/Home\";\r\nimport About from \"./components/About\";\r\nimport Services from \"./components/Services\";\r\nimport Contact from \"./components/Contact\";\r\nimport Login from \"./components/Login\";\r\nimport Signup from \"./components/Signup\";\r\nimport UserProfile from \"./components/UserProfile\";\r\nimport Connections from \"./components/Connections\";\r\nimport Feed from \"./components/Feed\";\r\nimport JobBoard from \"./components/JobBoard\";\r\nimport ChatBox from \"./components/ChatBox\";\r\nimport Messages from \"./components/Messages\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\n\r\n// Socket connection\r\nimport socket from \"./utils/socket\";\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector((state) => state.user);\r\n\r\n  // 🔐 Restore login from localStorage\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const user = localStorage.getItem(\"user\");\r\n\r\n    try {\r\n      if (token && user) {\r\n        dispatch(loginUserSuccess({ token, user: JSON.parse(user) }));\r\n      }\r\n    } catch (err) {\r\n      console.error(\"❌ Error restoring user from localStorage\", err);\r\n    }\r\n  }, [dispatch]);\r\n\r\n  // 🔌 Join socket room after login\r\n  useEffect(() => {\r\n    if (user?._id) {\r\n      socket.emit(\"join\", user._id);\r\n      console.log(\"✅ Joined socket room:\", user._id);\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors\">\r\n      <Header />\r\n      <main className=\"flex-grow\">\r\n        <Routes>\r\n          <Route path=\"/\" element={<Home />} />\r\n          <Route path=\"/about\" element={<About />} />\r\n          <Route path=\"/services\" element={<Services />} />\r\n          <Route path=\"/contact\" element={<Contact />} />\r\n          <Route path=\"/login\" element={<Login />} />\r\n          <Route path=\"/signup\" element={<Signup />} />\r\n\r\n          {/* Protected Routes */}\r\n          <Route path=\"/profile\" element={<ProtectedRoute><UserProfile /></ProtectedRoute>} />\r\n          <Route path=\"/connections\" element={<ProtectedRoute><Connections /></ProtectedRoute>} />\r\n          <Route path=\"/feed\" element={<ProtectedRoute><Feed /></ProtectedRoute>} />\r\n          <Route path=\"/jobs\" element={<ProtectedRoute><JobBoard /></ProtectedRoute>} />\r\n          <Route path=\"/chat\" element={<ProtectedRoute><ChatBox /></ProtectedRoute>} />\r\n          <Route path=\"/messages\" element={<ProtectedRoute><Messages /></ProtectedRoute>} />\r\n\r\n          {/* Catch-all fallback */}\r\n          <Route path=\"*\" element={<Home />} />\r\n        </Routes>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAChD,OAASC,gBAAgB,KAAQ,mBAAmB,CAEpD;AACA,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CAExD;AACA,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAAC,QAAQ,CAAG1B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAE2B,IAAK,CAAC,CAAG1B,WAAW,CAAE2B,KAAK,EAAKA,KAAK,CAACD,IAAI,CAAC,CAEnD;AACA5B,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAJ,IAAI,CAAGG,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAEzC,GAAI,CACF,GAAIF,KAAK,EAAIF,IAAI,CAAE,CACjBD,QAAQ,CAACtB,gBAAgB,CAAC,CAAEyB,KAAK,CAAEF,IAAI,CAAEK,IAAI,CAACC,KAAK,CAACN,IAAI,CAAE,CAAC,CAAC,CAAC,CAC/D,CACF,CAAE,MAAOO,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,0CAA0C,CAAEF,GAAG,CAAC,CAChE,CACF,CAAC,CAAE,CAACR,QAAQ,CAAC,CAAC,CAEd;AACA3B,SAAS,CAAC,IAAM,CACd,GAAI4B,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEU,GAAG,CAAE,CACbjB,MAAM,CAACkB,IAAI,CAAC,MAAM,CAAEX,IAAI,CAACU,GAAG,CAAC,CAC7BF,OAAO,CAACI,GAAG,CAAC,uBAAuB,CAAEZ,IAAI,CAACU,GAAG,CAAC,CAChD,CACF,CAAC,CAAE,CAACV,IAAI,CAAC,CAAC,CAEV,mBACEH,KAAA,QAAKgB,SAAS,CAAC,yGAAyG,CAAAC,QAAA,eACtHnB,IAAA,CAACjB,MAAM,GAAE,CAAC,cACViB,IAAA,SAAMkB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACzBjB,KAAA,CAACtB,MAAM,EAAAuC,QAAA,eACLnB,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAErB,IAAA,CAACf,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCe,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAErB,IAAA,CAACd,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3Cc,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAErB,IAAA,CAACb,QAAQ,GAAE,CAAE,CAAE,CAAC,cACjDa,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,UAAU,CAACC,OAAO,cAAErB,IAAA,CAACZ,OAAO,GAAE,CAAE,CAAE,CAAC,cAC/CY,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAErB,IAAA,CAACX,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CW,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAErB,IAAA,CAACV,MAAM,GAAE,CAAE,CAAE,CAAC,cAG7CU,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,UAAU,CAACC,OAAO,cAAErB,IAAA,CAACH,cAAc,EAAAsB,QAAA,cAACnB,IAAA,CAACT,WAAW,GAAE,CAAC,CAAgB,CAAE,CAAE,CAAC,cACpFS,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,cAAc,CAACC,OAAO,cAAErB,IAAA,CAACH,cAAc,EAAAsB,QAAA,cAACnB,IAAA,CAACR,WAAW,GAAE,CAAC,CAAgB,CAAE,CAAE,CAAC,cACxFQ,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,OAAO,CAACC,OAAO,cAAErB,IAAA,CAACH,cAAc,EAAAsB,QAAA,cAACnB,IAAA,CAACP,IAAI,GAAE,CAAC,CAAgB,CAAE,CAAE,CAAC,cAC1EO,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,OAAO,CAACC,OAAO,cAAErB,IAAA,CAACH,cAAc,EAAAsB,QAAA,cAACnB,IAAA,CAACN,QAAQ,GAAE,CAAC,CAAgB,CAAE,CAAE,CAAC,cAC9EM,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,OAAO,CAACC,OAAO,cAAErB,IAAA,CAACH,cAAc,EAAAsB,QAAA,cAACnB,IAAA,CAACL,OAAO,GAAE,CAAC,CAAgB,CAAE,CAAE,CAAC,cAC7EK,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAErB,IAAA,CAACH,cAAc,EAAAsB,QAAA,cAACnB,IAAA,CAACJ,QAAQ,GAAE,CAAC,CAAgB,CAAE,CAAE,CAAC,cAGlFI,IAAA,CAACnB,KAAK,EAACuC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAErB,IAAA,CAACf,IAAI,GAAE,CAAE,CAAE,CAAC,EAC/B,CAAC,CACL,CAAC,cACPe,IAAA,CAAChB,MAAM,GAAE,CAAC,EACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAmB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}