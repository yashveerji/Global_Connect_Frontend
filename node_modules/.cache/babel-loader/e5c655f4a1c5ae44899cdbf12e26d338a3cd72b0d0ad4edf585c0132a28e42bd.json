{"ast":null,"code":"// src/pages/JobBoard.js\nimport React,{useEffect,useState,useCallback}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobBoard=_ref=>{let{user}=_ref;const[jobs,setJobs]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const[message,setMessage]=useState(\"\");// Backend API ka base URL\nconst API_URL=process.env.REACT_APP_API_URL||\"https://global-connect-p93z.onrender.com/api\";// Jobs fetch karna\nconst fetchJobs=useCallback(async()=>{try{const res=await axios.get(`${API_URL}/jobs`);setJobs(res.data);setLoading(false);}catch(err){setError(\"Failed to fetch jobs\");setLoading(false);}},[API_URL]);useEffect(()=>{fetchJobs();},[fetchJobs]);// Apply job function\nconst handleApply=async jobId=>{if(!user){setMessage(\"Please login to apply for jobs.\");return;}if(user.role===\"admin\"){setMessage(\"Admins cannot apply for jobs.\");return;}try{const token=localStorage.getItem(\"token\");await axios.post(`${API_URL}/jobs/${jobId}/apply`,{},{headers:{Authorization:`Bearer ${token}`}});setMessage(\"Application submitted successfully!\");}catch(err){setMessage(\"Error applying for the job.\");}};if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-5\",children:\"Loading jobs...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500 mt-5\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Available Jobs\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 text-center text-green-600 font-semibold\",children:message}),jobs.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No jobs available right now.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:jobs.map(job=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded-lg p-4 border hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:job.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:job.company}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:job.location}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:job.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 font-semibold text-green-600\",children:[\"Salary: \",job.salary||\"Not specified\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-1 text-gray-500\",children:[\"Posted on: \",new Date(job.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApply(job._id),disabled:(user===null||user===void 0?void 0:user.role)===\"admin\",className:`mt-3 px-4 py-2 rounded text-white ${(user===null||user===void 0?void 0:user.role)===\"admin\"?\"bg-gray-400 cursor-not-allowed\":\"bg-blue-600 hover:bg-blue-700\"}`,children:\"Apply Now\"})]},job._id))})]});};export default JobBoard;","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","jsx","_jsx","jsxs","_jsxs","JobBoard","_ref","user","jobs","setJobs","loading","setLoading","error","setError","message","setMessage","API_URL","process","env","REACT_APP_API_URL","fetchJobs","res","get","data","err","handleApply","jobId","role","token","localStorage","getItem","post","headers","Authorization","className","children","length","map","job","title","company","location","description","salary","Date","createdAt","toLocaleDateString","onClick","_id","disabled"],"sources":["C:/Users/yashv/OneDrive/Desktop/Internshipmini2/Global_Connect/Global_Connect/frontend/src/components/JobBoard.js"],"sourcesContent":["// src/pages/JobBoard.js\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst JobBoard = ({ user }) => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // Backend API ka base URL\r\n  const API_URL = process.env.REACT_APP_API_URL || \"https://global-connect-p93z.onrender.com/api\";\r\n\r\n  // Jobs fetch karna\r\n  const fetchJobs = useCallback(async () => {\r\n    try {\r\n      const res = await axios.get(`${API_URL}/jobs`);\r\n      setJobs(res.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(\"Failed to fetch jobs\");\r\n      setLoading(false);\r\n    }\r\n  }, [API_URL]);\r\n\r\n  useEffect(() => {\r\n    fetchJobs();\r\n  }, [fetchJobs]);\r\n\r\n  // Apply job function\r\n  const handleApply = async (jobId) => {\r\n    if (!user) {\r\n      setMessage(\"Please login to apply for jobs.\");\r\n      return;\r\n    }\r\n\r\n    if (user.role === \"admin\") {\r\n      setMessage(\"Admins cannot apply for jobs.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.post(\r\n        `${API_URL}/jobs/${jobId}/apply`,\r\n        {},\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      setMessage(\"Application submitted successfully!\");\r\n    } catch (err) {\r\n      setMessage(\"Error applying for the job.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <p className=\"text-center mt-5\">Loading jobs...</p>;\r\n  if (error) return <p className=\"text-center text-red-500 mt-5\">{error}</p>;\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Available Jobs</h1>\r\n\r\n      {message && (\r\n        <p className=\"mb-4 text-center text-green-600 font-semibold\">{message}</p>\r\n      )}\r\n\r\n      {jobs.length === 0 ? (\r\n        <p>No jobs available right now.</p>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {jobs.map((job) => (\r\n            <div\r\n              key={job._id}\r\n              className=\"bg-white shadow-md rounded-lg p-4 border hover:shadow-lg transition\"\r\n            >\r\n              <h2 className=\"text-xl font-semibold\">{job.title}</h2>\r\n              <p className=\"text-gray-600\">{job.company}</p>\r\n              <p className=\"text-gray-500 text-sm\">{job.location}</p>\r\n              <p className=\"mt-2\">{job.description}</p>\r\n              <p className=\"mt-2 font-semibold text-green-600\">\r\n                Salary: {job.salary || \"Not specified\"}\r\n              </p>\r\n              <p className=\"text-sm mt-1 text-gray-500\">\r\n                Posted on: {new Date(job.createdAt).toLocaleDateString()}\r\n              </p>\r\n\r\n              <button\r\n                onClick={() => handleApply(job._id)}\r\n                disabled={user?.role === \"admin\"}\r\n                className={`mt-3 px-4 py-2 rounded text-white ${\r\n                  user?.role === \"admin\"\r\n                    ? \"bg-gray-400 cursor-not-allowed\"\r\n                    : \"bg-blue-600 hover:bg-blue-700\"\r\n                }`}\r\n              >\r\n                Apply Now\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobBoard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}